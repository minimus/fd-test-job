{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"express\"","webpack:///external \"react-leaflet-universal\"","webpack:///external \"react-redux\"","webpack:///external \"path\"","webpack:///external \"cookie-parser\"","webpack:///external \"compression\"","webpack:///external \"helmet\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router\"","webpack:///external \"redux-thunk\"","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///../test/src/shared/components/home/LabeledInput.js","webpack:///../test/src/shared/components/home/HomeLogin.js","webpack:///../test/src/shared/components/home/HomeRecovery.js","webpack:///../test/src/shared/components/home/Home.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../test/src/shared/components/map/BackgroundMap.js","webpack:///../test/src/shared/redux/modules/helpers.js","webpack:///../test/src/shared/redux/modules/home/home.js","webpack:///../test/src/shared/containers/home/HomeContainer.js","webpack:///../test/src/shared/Application.js","webpack:///../test/src/shared/redux/index.js","webpack:///../test/src/server/server.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","_defineProperty","obj","configurable","writable","_objectSpread","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_typeof2","iterator","constructor","_typeof","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_inherits","subClass","superClass","LabeledInput","_ref","id","title","handler","_ref$pass","pass","type","external_react_default","a","createElement","className","onChange","defaultProps","HomeLogin","Component","_this$props","this","strings","login","username","password","loggedIn","rememberMe","trackName","trackPass","changeRememberMe","passwordRecoveryNeeded","signIn","signOut","header","email","htmlFor","checked","onClick","forgotPass","HomeRecovery","recovery","passwordRecoverySent","help","sendRequest","Home","dialogContent","_this","HomeRecovery_HomeRecovery","HomeLogin_HomeLogin","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","Map","handleViewportChanged","vp","history","viewportChanged","currentPosition","_vp$center","center","latitude","longitude","_this$props2","position","zoom","locale","markLatitude","markLongitude","markerPosition","maps","external_react_leaflet_universal_","maxZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","style","width","height","onViewportChanged","url","attribution","setCookie","remember","days","date","Date","setDate","getDate","document","cookie","toUTCString","getDefaultPosition","en","de","ru","getDefaultStrings","defaultStrings","markerNearPosition","test","HOME_USERNAME_CHANGED","HOME_PASSWORD_CHANGED","HOME_SIGN_IN","HOME_SIGN_OUT","HOME_REMEMBER_ME_CHANGED","HOME_PASSWORD_RECOVERY_NEEDED","HOME_PASSWORD_RECOVERY_SENT","APPLICATION_GET_USER_PROPERTIES","MAP_USER_POSITION_CHANGE_STARTED","MAP_USER_POSITION_CHANGE_FINISHED","MAP_USER_POSITION_CHANGE_ERROR","MAP_VIEWPORT_CHANGED","initialState","storedPosition","stored","HomeContainer","changeUserPosition","BackgroundMap_Map","Home_Home","mapDispatchToProps","event","dispatch","payload","getUserProperties","setTimeout","options","window","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","getUserPosition","enableHighAccuracy","timeout","maximumAge","then","data","_data$coords","coords","viewport","_viewport$center","connect","state","home","withRouter","Application","external_react_router_dom_","path","component","reducer","applyMiddleware","thunk","createStore","combineReducers","action","app","express","use","helmet","handleRender","req","res","acceptedLanguages","preferredLanguage","pl","split","toLowerCase","language","getUserLocale","_req$params","params","parseFloat","_cookies$username","cookies","store","html","ReactDOMServer","renderToString","external_react_redux_","location","context","Application_Application","getState","preloadedState","send","JSON","stringify","replace","renderFullPage","json","urlencoded","extended","cookieParser","compression","join","process","env","BROWSER","listen"],"mappings":"2BACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,oBClFAhC,EAAAD,QAAAkC,QAAA,wBCAAjC,EAAAD,QAAAkC,QAAA,wBCAAjC,EAAAD,QAAAkC,QAAA,mCCAAjC,EAAAD,QAAAkC,QAAA,0BCAAjC,EAAAD,QAAAkC,QAAA,0CCAAjC,EAAAD,QAAAkC,QAAA,8BCAAjC,EAAAD,QAAAkC,QAAA,uBCAAjC,EAAAD,QAAAkC,QAAA,gCCAAjC,EAAAD,QAAAkC,QAAA,8BCAAjC,EAAAD,QAAAkC,QAAA,yBCAAjC,EAAAD,QAAAkC,QAAA,mCCAAjC,EAAAD,QAAAkC,QAAA,+BCAAjC,EAAAD,QAAAkC,QAAA,6CCAe,SAAAC,EAAAC,EAAAX,EAAAN,GAYf,OAXAM,KAAAW,EACAxB,OAAAC,eAAAuB,EAAAX,EAAA,CACAN,QACAL,YAAA,EACAuB,cAAA,EACAC,UAAA,IAGAF,EAAAX,GAAAN,EAGAiB,ECXe,SAAAG,EAAAC,GACf,QAAAtC,EAAA,EAAiBA,EAAAuC,UAAAC,OAAsBxC,IAAA,CACvC,IAAAyC,EAAA,MAAAF,UAAAvC,GAAAuC,UAAAvC,GAAA,GACA0C,EAAAhC,OAAAiC,KAAAF,GAEA,mBAAA/B,OAAAkC,wBACAF,IAAAG,OAAAnC,OAAAkC,sBAAAH,GAAAK,OAAA,SAAAC,GACA,OAAArC,OAAAsC,yBAAAP,EAAAM,GAAAnC,eAIA8B,EAAAO,QAAA,SAAA1B,GACMU,EAAcK,EAAAf,EAAAkB,EAAAlB,MAIpB,OAAAe,mJCjBe,SAAAY,EAAAC,EAAAC,GACf,KAAAD,aAAAC,GACA,UAAAC,UAAA,qCCFA,SAAAC,EAAAhB,EAAAiB,GACA,QAAAvD,EAAA,EAAiBA,EAAAuD,EAAAf,OAAkBxC,IAAA,CACnC,IAAAwD,EAAAD,EAAAvD,GACAwD,EAAA5C,WAAA4C,EAAA5C,aAAA,EACA4C,EAAArB,cAAA,EACA,UAAAqB,MAAApB,UAAA,GACA1B,OAAAC,eAAA2B,EAAAkB,EAAAjC,IAAAiC,IAIe,SAAAC,EAAAL,EAAAM,EAAAC,GAGf,OAFAD,GAAAJ,EAAAF,EAAAxB,UAAA8B,GACAC,GAAAL,EAAAF,EAAAO,GACAP,ECbA,SAAAQ,EAAA1B,GAA6U,OAA1O0B,EAA3E,mBAAA7C,QAAA,iBAAAA,OAAA8C,SAA2E,SAAA3B,GAAoC,cAAAA,GAA+B,SAAAA,GAAoC,OAAAA,GAAA,mBAAAnB,QAAAmB,EAAA4B,cAAA/C,QAAAmB,IAAAnB,OAAAa,UAAA,gBAAAM,IAAmIA,GAE9T,SAAA6B,EAAA7B,GAWf,OATA6B,EADA,mBAAAhD,QAAA,WAAA6C,EAAA7C,OAAA8C,UACA,SAAA3B,GACA,OAAA0B,EAAA1B,IAGA,SAAAA,GACA,OAAAA,GAAA,mBAAAnB,QAAAmB,EAAA4B,cAAA/C,QAAAmB,IAAAnB,OAAAa,UAAA,SAAAgC,EAAA1B,KAIAA,GCXe,SAAA8B,EAAAC,EAAA9D,GACf,OAAAA,GAAsB,WAAP4D,EAAO5D,IAAA,mBAAAA,ECHP,SAAA8D,GACf,YAAAA,EACA,UAAAC,eAAA,6DAGA,OAAAD,EDESE,CAAqBF,GAH9B9D,EEJe,SAAAiE,EAAA3D,GAIf,OAHA2D,EAAA1D,OAAA2D,eAAA3D,OAAA4D,eAAA,SAAA7D,GACA,OAAAA,EAAA8D,WAAA7D,OAAA4D,eAAA7D,KAEAA,GCJe,SAAA+D,EAAA/D,EAAAqB,GAMf,OALA0C,EAAA9D,OAAA2D,gBAAA,SAAA5D,EAAAqB,GAEA,OADArB,EAAA8D,UAAAzC,EACArB,IAGAA,EAAAqB,GCLe,SAAA2C,EAAAC,EAAAC,GACf,sBAAAA,GAAA,OAAAA,EACA,UAAAtB,UAAA,sDAGAqB,EAAA9C,UAAAlB,OAAAY,OAAAqD,KAAA/C,UAAA,CACAkC,YAAA,CACA7C,MAAAyD,EACAtC,UAAA,EACAD,cAAA,KAGAwC,GAAkBH,EAAcE,EAAAC,eCVjB,SAASC,EAATC,GAAmE,IAA3CC,EAA2CD,EAA3CC,GAAIC,EAAuCF,EAAvCE,MAAO9D,EAAgC4D,EAAhC5D,MAAO+D,EAAyBH,EAAzBG,QAAyBC,EAAAJ,EAAhBK,KAC1DC,OAD0E,IAAAF,KAC1D,WAAa,OACnC,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACZR,EACDK,EAAAC,EAAAC,cAAA,SAAOR,GAAIA,EAAIK,KAAMA,EAAMlE,MAAOA,EAAOuE,SAAUR,KAazDJ,EAAaa,aAAe,CAC1BP,MAAM,OClBaQ,0FAAkBC,oDAC5B,IAAAC,EAKHC,KAAKtC,MAHWuC,EAFbF,EAELE,QAAWC,MACXC,EAHKJ,EAGLI,SAAUC,EAHLL,EAGKK,SAAUC,EAHfN,EAGeM,SAAUC,EAHzBP,EAGyBO,WAC9BC,EAJKR,EAILQ,UAAWC,EAJNT,EAIMS,UAAWC,EAJjBV,EAIiBU,iBAAkBC,EAJnCX,EAImCW,uBAAwBC,EAJ3DZ,EAI2DY,OAAQC,EAJnEb,EAImEa,QAE1E,OACErB,EAAAC,EAAAC,cAAA,OAAKR,GAAG,wBACNM,EAAAC,EAAAC,cAAA,UAAKQ,EAAQY,QACbtB,EAAAC,EAAAC,cAACV,EAAD,CAAcI,QAASoB,EAAWtB,GAAG,WAAWC,MAAOe,EAAQa,MAAO1F,MAAO+E,IAC7EZ,EAAAC,EAAAC,cAACV,EAAD,CAAcI,QAASqB,EAAWvB,GAAG,WAAWC,MAAOe,EAAQG,SAAUhF,MAAOgF,EAAUf,MAAI,IAC9FE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOR,GAAG,oBAAoB8B,QAAQ,eACpCxB,EAAAC,EAAAC,cAAA,SAAOR,GAAG,cAAcK,KAAK,WAAW0B,QAASV,EAAYW,QAASR,IACrER,EAAQK,aAGbf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SACER,GAAG,UACHS,UAAU,iBACVJ,KAAK,SACLlE,MAAQiF,EAAYJ,EAAQW,QAAUX,EAAQU,OAC9CM,QAAUZ,EAAYO,EAAUD,IAElCpB,EAAAC,EAAAC,cAAA,SACER,GAAG,WACHS,UAAU,cACVJ,KAAK,SACLlE,MAAO6E,EAAQiB,WACfD,QAASP,eC/BAS,0FAAqBrB,oDAC/B,IAAAC,EAGHC,KAAKtC,MADcuC,EAFhBF,EAELE,QAAWmB,SAAqBjB,EAF3BJ,EAE2BI,SAAUI,EAFrCR,EAEqCQ,UAAWc,EAFhDtB,EAEgDsB,qBAEvD,OACE9B,EAAAC,EAAAC,cAAA,OAAKR,GAAG,2BACNM,EAAAC,EAAAC,cAAA,UAAKQ,EAAQY,QACbtB,EAAAC,EAAAC,cAACV,EAAD,CAAcI,QAASoB,EAAWtB,GAAG,WAAWC,MAAOe,EAAQa,MAAO1F,MAAO+E,IAC7EZ,EAAAC,EAAAC,cAAA,SAAIQ,EAAQqB,MACZ/B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SACER,GAAG,eACHS,UAAU,iBACVJ,KAAK,SACLlE,MAAO6E,EAAQsB,YACfN,QAASI,eCfAG,yLACnBC,cAAgB,WAEd,OADqBC,EAAKhE,MAAlB0D,SACa7B,EAAAC,EAAAC,cAACkC,EAAaD,EAAKhE,OACjC6B,EAAAC,EAAAC,cAACmC,EAAUF,EAAKhE,uBAJOoC,oDAQ9B,OACEP,EAAAC,EAAAC,cAAA,WAASR,GAAG,kBACTe,KAAKyB,0BCZC,SAAAI,EAAAC,EAAA3H,GACf,OCJe,SAAA2H,GACf,GAAAC,MAAAC,QAAAF,GAAA,OAAAA,EDGSG,CAAcH,IEJR,SAAAA,EAAA3H,GACf,IAAA+H,EAAA,GACAC,GAAA,EACAC,GAAA,EACAC,OAAAC,EAEA,IACA,QAAAC,EAAAC,EAAAV,EAAA5G,OAAA8C,cAA6CmE,GAAAI,EAAAC,EAAAC,QAAAC,QAC7CR,EAAAS,KAAAJ,EAAAnH,QAEAjB,GAAA+H,EAAAvF,SAAAxC,GAH4EgI,GAAA,IAKzE,MAAAS,GACHR,GAAA,EACAC,EAAAO,EACG,QACH,IACAT,GAAA,MAAAK,EAAA,QAAAA,EAAA,SACK,QACL,GAAAJ,EAAA,MAAAC,GAIA,OAAAH,EFnBgCW,CAAoBf,EAAA3H,IGJrC,WACf,UAAAqD,UAAA,wDHGgEsF,cIE3CC,yLACnBC,sBAAwB,SAACC,GAAO,IAAAlD,EAG1B2B,EAAKhE,MADPwF,EAF4BnD,EAE5BmD,QAASC,EAFmBpD,EAEnBoD,gBAAiBC,EAFErD,EAEFqD,gBAFEC,EAAAxB,EAIYoB,EAAlCK,OAJsB,GAIbC,EAJaF,EAAA,GAIHG,EAJGH,EAAA,IAKzBD,EAAgBG,UAAYH,EAAgBG,WAAaA,GACxDH,EAAgBI,WAAaJ,EAAgBI,YAAcA,IAC/DN,EAAQP,KAAR,IAAA3F,OAAiBuG,EAAjB,KAAAvG,OAA6BwG,IAE/BL,EAAgBF,mBAVanD,oDAatB,IAAA2D,EAGHzD,KAAKtC,MADPgG,EAFKD,EAELC,SAAUN,EAFLK,EAEKL,gBAAyBO,GAF9BF,EAEsBG,OAFtBH,EAE8BE,MAAM1D,EAFpCwD,EAEoCxD,QAEnCsD,EAAwBG,EAAxBH,SAAUC,EAAcE,EAAdF,UACAK,EAA2CT,EAArDG,SAAmCO,EAAkBV,EAA7BI,UAChBO,EAAqB9D,EAA7B+D,KAAQD,eAChB,OACExE,EAAAC,EAAAC,cAAA,OAAKR,GAAG,QACNM,EAAAC,EAAAC,cAACwE,EAAA,IAAD,CACEX,OAAQ,CAACC,EAAUC,GACnBG,KAAMA,EACNO,QAAS,GACTC,oBAAkB,EAClBC,aAAW,EACXC,iBAAe,EACfC,iBAAe,EACfC,UAAQ,EACRC,SAAO,EACPC,cAAe,IACfC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChCC,kBAAmB7E,KAAKgD,uBAExBzD,EAAAC,EAAAC,cAACwE,EAAA,UAAD,CACEa,IAAI,0CACJC,YAAY,wEAEdxF,EAAAC,EAAAC,cAACwE,EAAA,OAAD,CAAQP,SAAU,CAACG,EAAcC,IAC/BvE,EAAAC,EAAAC,cAACwE,EAAA,MAAD,KAAQF,eCtCb,SAASiB,EAAU7E,GAA2B,IAAjB8E,IAAiBvI,UAAAC,OAAA,QAAA2F,IAAA5F,UAAA,KAAAA,UAAA,GAC7CwI,EAAU/E,GAAY8E,EAAY,GAAK,EACvCE,EAAO,IAAIC,KACjBD,EAAKE,QAAQF,EAAKG,UAAYJ,GAC9BK,SAASC,OAAT,YAAAxI,OAA8BmD,EAA9B,cAAAnD,OAAmDmI,EAAKM,eAsBnD,SAASC,IAed,MAdyB,CACvBC,GAAI,CACFpC,SAAU,SACVC,WAAY,WAEdoC,GAAI,CACFrC,SAAU,UACVC,UAAW,WAEbqC,GAAI,CACFtC,SAAU,UACVC,UAAW,YAZiC9G,UAAAC,OAAA,QAAA2F,IAAA5F,UAAA,GAAAA,UAAA,GAAN,MAkBrC,SAASoJ,EAAkBlC,GAChC,IAAMmC,EAAiB,CACrBJ,GAAI,CACF3B,KAAM,CACJD,eAAgB,gBAChBiC,mBAAoB,4BAEtB9F,MAAO,CACLW,OAAQ,iBACRC,MAAO,SACPV,SAAU,WACVE,WAAY,cACZK,OAAQ,UACRC,QAAS,WACTM,WAAY,oBAEdE,SAAU,CACRP,OAAQ,oBACRU,YAAa,eACbD,KAAM,4GAGVsE,GAAI,CACF5B,KAAM,CACJD,eAAgB,gBAChBiC,mBAAoB,iCAEtB9F,MAAO,CACLW,OAAQ,YACRC,MAAO,SACPV,SAAU,WACVE,WAAY,wBACZK,OAAQ,YACRC,QAAS,YACTM,WAAY,oBAEdE,SAAU,CACRP,OAAQ,6BACRU,YAAa,iBACbD,KAAM,oIAGVuE,GAAI,CACF7B,KAAM,CACJD,eAAgB,YAChBiC,mBAAoB,2BAEtB9F,MAAO,CACLW,OAAQ,cACRC,MAAO,SACPV,SAAU,SACVE,WAAY,iBACZK,OAAQ,OACRC,QAAS,QACTM,WAAY,kBAEdE,SAAU,CACRP,OAAQ,wBACRU,YAAa,mBACbD,KAAM,iIAKZ,MAAI,eAAe2E,KAAKrC,GAAgBmC,EAAenC,GAChDmC,EAAeJ,GClHxB,IAAMO,EAAwB,wBACxBC,EAAwB,wBACxBC,EAAe,eACfC,EAAgB,gBAChBC,EAA2B,2BAC3BC,EAAgC,gCAChCC,EAA8B,8BAE9BC,EAAkC,kCAElCC,EAAmC,mCACnCC,EAAoC,oCACpCC,EAAiC,iCAEjCC,EAAuB,uBAyF7B,IAAMC,GAAe,CACnB3G,SAAU,GACVC,SAAU,GACVE,YAAY,EACZc,UAAU,EACVwC,OAAQ,KACRF,SAAUgC,EAAmB,MAC7BtC,gBAAiBsC,EAAmB,MACpCqB,eAAgB,CACdC,QAAQ,EACRzD,SAAU,KACVC,UAAW,MAEbG,KAAM,EACN1D,QAAS6F,EAAkB,MAC3BzF,UAAU,OC/GN4G,2FAAsBnH,+DAExBE,KAAKtC,MAAMwJ,sDAIX,OACE3H,EAAAC,EAAAC,cAAA,OAAKR,GAAG,kBACNM,EAAAC,EAAAC,cAAC0H,EAAQnH,KAAKtC,OACd6B,EAAAC,EAAAC,cAAC2H,EAASpH,KAAKtC,iBAuBjB2J,GAAqB,CACzB9G,UDxBK,SAAmB+G,GACxB,OAAO,SAACC,GACN,IAAMpH,EAAWmH,EAAM7K,OAAOrB,MAC9BmM,EAAS,CAAEjI,KAAM4G,EAAuBsB,QAASrH,MCsBnDK,UDlBK,SAAmB8G,GACxB,OAAO,SAACC,GACN,IAAMnH,EAAWkH,EAAM7K,OAAOrB,MAC9BmM,EAAS,CAAEjI,KAAM6G,EAAuBqB,QAASpH,MCgBnDqH,kBDuDK,WACL,OAAO,SAACF,GACNA,EAAS,CAAEjI,KAAMmH,EAAiCe,QAAS,OCxD7DN,mBDiBK,WACL,OAAO,SAACK,GACNA,EAAS,CAAEjI,KAAMoH,EAAkCc,SAAS,IAE5DE,WAAW,YDpER,SAAyBC,GAC9B,GAAIC,OACF,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAAV,OACjBH,OAAOI,UAAUC,YAAYC,mBAAmBJ,EAASC,EAAQJ,MCkEjEQ,CAAgB,CACdC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,IAEXC,KAAK,SAACC,GAAS,IAAAC,EACkBD,EAAKE,OAA7BnF,EADMkF,EACNlF,SAAUC,EADJiF,EACIjF,UAClB+D,EAAS,CACPjI,KAAMqH,EACNa,QAAS,CACPjE,WACAC,iBAXR,MAeS,SAACZ,GACN2E,EAAS,CACPjI,KAAMsH,EACNY,QAAS5E,OAGd,QC1CLO,gBD8CK,SAAyBwF,GAC9B,OAAO,SAACpB,GAAa,IAAAqB,EAAA/G,EAC6B8G,EAAxCrF,OADW,GACFC,EADEqF,EAAA,GACQpF,EADRoF,EAAA,GACoBjF,EAASgF,EAAThF,KACvC4D,EAAS,CAAEjI,KAAMuH,EAAsBW,QAAS,CAAE9D,SAAU,CAAEH,WAAUC,aAAaG,YChDvFlD,iBDfK,SAA0B6G,GAC/B,OAAO,SAACC,GACNA,EAAS,CAAEjI,KAAMgH,EAA0BkB,QAASF,EAAM7K,OAAOuE,YCcnEN,uBDEK,WACL,OAAO,SAAC6G,GACNA,EAAS,CAAEjI,KAAMiH,EAA+BiB,SAAS,MCH3DnG,qBDOK,WACL,OAAO,SAACkG,GACNA,EAAS,CAAEjI,KAAMkH,EAA6BgB,SAAS,MCRzD7G,ODZK,WACL,OAAO,SAAC4G,GACNA,EAAS,CAAEjI,KAAM8G,EAAcoB,SAAS,MCW1C5G,QDPK,WACL,OAAO,SAAC2G,GACNA,EAAS,CAAEjI,KAAM+G,EAAemB,SAAS,OCQ9BqB,qBA1BS,SAAAC,GAAK,MAAK,CAChClF,OAAQkF,EAAMC,KAAKnF,OACnBF,SAAUoF,EAAMC,KAAKrF,SACrBN,gBAAiB0F,EAAMC,KAAK3F,gBAC5BO,KAAMmF,EAAMC,KAAKpF,KACjB1D,QAAS6I,EAAMC,KAAK9I,QACpBE,SAAU2I,EAAMC,KAAK5I,SACrBC,SAAU0I,EAAMC,KAAK3I,SACrBE,WAAYwI,EAAMC,KAAKzI,WACvBc,SAAU0H,EAAMC,KAAK3H,SACrBf,SAAUyI,EAAMC,KAAK1I,WAgBiBgH,GAAzBwB,CAA6CG,qBAAW/B,KCpDlDgC,2FAAoBnJ,oDAErC,OACEP,EAAAC,EAAAC,cAAA,WAASR,GAAG,QACVM,EAAAC,EAAAC,cAACyJ,EAAA,OAAD,KACE3J,EAAAC,EAAAC,cAACyJ,EAAA,MAAD,CAAOC,KAAK,IAAIC,UAAW5H,KAC3BjC,EAAAC,EAAAC,cAACyJ,EAAA,MAAD,CAAOC,KAAK,wBAAwBC,UAAW5H,oCCE5C6H,IALqBC,0BAChCC,KADgCD,CAGhCE,eAEqBC,0BAAgB,CACrCV,KHgHa,WAA+C,IAA9BD,EAA8BpM,UAAAC,OAAA,QAAA2F,IAAA5F,UAAA,GAAAA,UAAA,GAAtBoK,GAAc4C,EAAQhN,UAAAC,OAAA,EAAAD,UAAA,QAAA4F,EAC5D,OAAQoH,EAAOpK,MACb,KAAKoH,EACH,OAAOoC,EAET,KAAKnC,EAAmC,IAC9BI,EAAmB+B,EAAnB/B,eACR,OAAAvK,EAAA,GACKsM,EADL,CAEEpF,SAAWqD,EAAeC,OAAU,CAClCzD,SAAUwD,EAAexD,SACzBC,UAAWuD,EAAevD,WACxBkG,EAAOlC,QACXpE,gBAAiB5G,EAAA,GAAKkN,EAAOlC,SAC7B7D,KAAM,KAIV,KAAKiD,EAAgC,IAC3BG,EAAmB+B,EAAnB/B,eAEFrD,EAAWgC,EADEoD,EAAXlF,QAER,OAAApH,EAAA,GACKsM,EADL,CAEEpF,SAAWqD,EAAeC,OAAU,CAClCzD,SAAUwD,EAAexD,SACzBC,UAAWuD,EAAevD,WACxBE,EACJN,gBAAiB5G,EAAA,GAAKkH,GACtBC,KAAM,KAIV,KAAKkD,EACH,OAAArK,EAAA,GAAYsM,EAAUY,EAAOlC,SAE/B,KAAKtB,EAEH,OAAA1J,EAAA,GAAYsM,EAAZ,CAAmB3I,SADFuJ,EAAOlC,UAI1B,KAAKrB,EACH,OAAA3J,EAAA,GAAYsM,EAAZ,CAAmB1I,SAAUsJ,EAAOlC,UAEtC,KAAKpB,EAGH,OADApB,EADiC8D,EAAzB3I,SAAyB2I,EAAfxI,YAElB9D,EAAA,GAAYsM,EAAZ,CAAmBzI,SAAUqJ,EAAOlC,UAGtC,KAAKnB,EAGH,OADArB,EADqB8D,EAAb3I,UACY,GACpB3D,EAAA,GAAYsM,EAAZ,CAAmBzI,SAAUqJ,EAAOlC,UAGtC,KAAKlB,EAIH,OAAA9J,EAAA,GAAYsM,EAAZ,CAAmBxI,WAHAoJ,EAAOlC,UAM5B,KAAKjB,EAGL,KAAKC,EACH,OAAAhK,EAAA,GAAYsM,EAAZ,CAAmB1H,SAAUsI,EAAOlC,UAEtC,QACE,OAAOsB,OInLPa,GAAMC,MAEZD,GAAIE,IAAIC,OAuCR,SAASC,GAAaC,EAAKC,GAEzB,IAAMC,EAAoBF,EAAIhP,IAAI,mBAC5B4I,EAAUsG,ELxCX,SAAuBC,GAC5B,GAAIA,EAAmB,CACrB,IAAMC,EAAKD,EAAkBE,MAAM,KAAK,GACxC,GAAI,gBAAgBpE,KAAKmE,GACvB,OAAOA,EAAGC,MAAM,KAAK,GAAGC,mBAErB,GAAM1C,OACX,MAAI,gBAAgB3B,KAAK2B,OAAOI,UAAUuC,UACjC3C,OAAOI,UAAUuC,SAASF,MAAM,KAAK,GAAGC,cAE1C,KAET,MAAO,KK4B8BE,CAAcN,EAAkBG,MAAM,KAAK,IAAM,KAChF3G,EAAWgC,EAAmB9B,GAC9B3D,EAAU6F,EAAkBlC,GALJ6G,EAOET,EAAIU,OAA5BnH,EAPsBkH,EAOtBlH,SAAUC,EAPYiH,EAOZjH,UACZuD,EAAiB,CACrBxD,SAAUoH,WAAWpH,GACrBC,UAAWmH,WAAWnH,GACtBwD,SAAWzD,KAAcC,GAXGoH,EAcVZ,EAAZa,QACA1K,gBAfsB,IAAAyK,EAeX,GAfWA,EAgBxBtK,IAAgBH,EAEhB2K,EAAQtB,sBAAYH,IAIpB0B,EAAOC,IAAeC,eAC1B1L,EAAAC,EAAAC,cAACyL,EAAA,SAAD,CAAUJ,MAAOA,GACfvL,EAAAC,EAAAC,cAACyJ,EAAA,aAAD,CAAciC,SAAUnB,EAAIlF,IAAKsG,QALrB,IAMV7L,EAAAC,EAAAC,cAAC4L,GAAD,SAMAvC,EAAQgC,EAAMQ,WAEdC,EAAiB/O,EAAA,GAClBsM,EADe,CAElBC,KAAMvM,EAAA,GAHSsM,EAATC,KAGF,CACOnF,SAAQF,WAAUqD,iBAAgB9G,UAASE,WAAUG,iBAKlE2J,EAAIuB,KApEN,SAAwBT,EAAMQ,GAAgB,IAC5B3H,EAAa2H,EAArBxC,KAAQnF,OAChB,gDAAA5G,OAEgB4G,EAFhB,6ZAAA5G,OAUsB+N,EAVtB,qEAAA/N,OAYuCyO,KAAKC,UAAUH,GAAgBI,QACpE,KACA,WAdF,0GAkESC,CAAeb,EAAMQ,IA5EhC5B,GAAIE,IAAID,IAAQiC,QAChBlC,GAAIE,IAAID,IAAQkC,WAAW,CAAEC,UAAU,KACvCpC,GAAIE,IAAImC,OACRrC,GAAIE,IAAIoC,OAGRtC,GAAIE,IAAID,IAAO,OAAQT,IAAK+C,KAAK,KAAqB,YA2BtDC,QAAQC,IAAIC,SAAU,EA8CtB1C,GAAIE,IAAI,wBAAyBE,IACjCJ,GAAIE,IAAI,IAAKE,IAEbJ,GAAI2C,OApFS","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = require(\"react\");","module.exports = require(\"redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"express\");","module.exports = require(\"react-leaflet-universal\");","module.exports = require(\"react-redux\");","module.exports = require(\"path\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"compression\");","module.exports = require(\"helmet\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router\");","module.exports = require(\"redux-thunk\");","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react'\nimport propTypes from 'prop-types'\n\nexport default function LabeledInput({ id, title, value, handler, pass = false }) {\n  const type = (pass) ? 'password' : 'text'\n  return (\n    <div className=\"labeled-input\">\n      {title}\n      <input id={id} type={type} value={value} onChange={handler} />\n    </div>\n  )\n}\n\nLabeledInput.propTypes = {\n  id: propTypes.string.isRequired,\n  title: propTypes.string.isRequired,\n  value: propTypes.string.isRequired,\n  handler: propTypes.func.isRequired,\n  pass: propTypes.bool,\n}\n\nLabeledInput.defaultProps = {\n  pass: false,\n}\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport LabeledInput from './LabeledInput'\n\nexport default class HomeLogin extends Component {\n  render() {\n    const {\n      strings: { login: strings },\n      username, password, loggedIn, rememberMe,\n      trackName, trackPass, changeRememberMe, passwordRecoveryNeeded, signIn, signOut,\n    } = this.props\n    return (\n      <div id=\"home-component-login\">\n        <h1>{strings.header}</h1>\n        <LabeledInput handler={trackName} id=\"username\" title={strings.email} value={username} />\n        <LabeledInput handler={trackPass} id=\"password\" title={strings.password} value={password} pass />\n        <div>\n          <label id=\"remember-me-label\" htmlFor=\"remember-me\">\n            <input id=\"remember-me\" type=\"checkbox\" checked={rememberMe} onClick={changeRememberMe} />\n            {strings.rememberMe}\n          </label>\n        </div>\n        <div className=\"login-buttons\">\n          <input\n            id=\"sign-in\"\n            className=\"sign-in-button\"\n            type=\"button\"\n            value={(loggedIn) ? strings.signOut : strings.signIn}\n            onClick={(loggedIn) ? signOut : signIn}\n          />\n          <input\n            id=\"recovery\"\n            className=\"link-button\"\n            type=\"button\"\n            value={strings.forgotPass}\n            onClick={passwordRecoveryNeeded}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nHomeLogin.propTypes = {\n  username: propTypes.string.isRequired,\n  password: propTypes.string.isRequired,\n  rememberMe: propTypes.bool.isRequired,\n  recovery: propTypes.bool.isRequired,\n  loggedIn: propTypes.bool.isRequired,\n  strings: propTypes.objectOf.isRequired,\n  trackName: propTypes.func.isRequired,\n  trackPass: propTypes.func.isRequired,\n  changeRememberMe: propTypes.func.isRequired,\n  passwordRecoveryNeeded: propTypes.func.isRequired,\n  signIn: propTypes.func.isRequired,\n  signOut: propTypes.func.isRequired,\n}\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport LabeledInput from './LabeledInput'\n\nexport default class HomeRecovery extends Component {\n  render() {\n    const {\n      strings: { recovery: strings }, username, trackName, passwordRecoverySent,\n    } = this.props\n    return (\n      <div id=\"home-component-recovery\">\n        <h1>{strings.header}</h1>\n        <LabeledInput handler={trackName} id=\"username\" title={strings.email} value={username} />\n        <p>{strings.help}</p>\n        <div className=\"login-buttons\">\n          <input\n            id=\"send-request\"\n            className=\"sign-in-button\"\n            type=\"button\"\n            value={strings.sendRequest}\n            onClick={passwordRecoverySent}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nHomeRecovery.propTypes = {\n  username: propTypes.string.isRequired,\n  strings: propTypes.objectOf.isRequired,\n  trackName: propTypes.func.isRequired,\n  passwordRecoverySent: propTypes.func.isRequired,\n}\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport Login from './HomeLogin'\nimport Recovery from './HomeRecovery'\n\nexport default class Home extends Component {\n  dialogContent = () => {\n    const { recovery } = this.props\n    if (recovery) return <Recovery {...this.props} />\n    return <Login {...this.props} />\n  }\n\n  render() {\n    return (\n      <section id=\"home-component\">\n        {this.dialogContent()}\n      </section>\n    )\n  }\n}\n\nHome.propTypes = {\n  recovery: propTypes.bool.isRequired,\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport {\n  Map as LeafletMap, TileLayer, Marker, Popup,\n} from 'react-leaflet-universal'\n\nexport default class Map extends Component {\n  handleViewportChanged = (vp) => {\n    const {\n      history, viewportChanged, currentPosition,\n    } = this.props\n    const { center: [latitude, longitude] } = vp\n    if ((currentPosition.latitude && currentPosition.latitude !== latitude)\n      || (currentPosition.longitude && currentPosition.longitude !== longitude)) {\n      history.push(`/${latitude}/${longitude}`)\n    }\n    viewportChanged(vp)\n  }\n\n  render() {\n    const {\n      position, currentPosition, locale, zoom, strings,\n    } = this.props\n    const { latitude, longitude } = position\n    const { latitude: markLatitude, longitude: markLongitude } = currentPosition\n    const { maps: { markerPosition } } = strings\n    return (\n      <div id=\"maps\">\n        <LeafletMap\n          center={[latitude, longitude]}\n          zoom={zoom}\n          maxZoom={10}\n          attributionControl\n          zoomControl\n          doubleClickZoom\n          scrollWheelZoom\n          dragging\n          animate\n          easeLinearity={0.35}\n          style={{ width: '100%', height: '100%' }}\n          onViewportChanged={this.handleViewportChanged}\n        >\n          <TileLayer\n            url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          />\n          <Marker position={[markLatitude, markLongitude]}>\n            <Popup>{markerPosition}</Popup>\n          </Marker>\n        </LeafletMap>\n      </div>\n    )\n  }\n}\n\nMap.propTypes = {\n  locale: propTypes.string.isRequired,\n  position: propTypes.objectOf.isRequired,\n  currentPosition: propTypes.objectOf.isRequired,\n  zoom: propTypes.objectOf.isRequired,\n  viewportChanged: propTypes.func.isRequired,\n  history: propTypes.objectOf.isRequired,\n  strings: propTypes.objectOf.isRequired,\n}\n","export function getUserPosition(options) {\n  if (window) {\n    return new Promise((resolve, reject) => (\n      window.navigator.geolocation.getCurrentPosition(resolve, reject, options)\n    ))\n  }\n  return undefined\n}\n\nexport function setCookie(username, remember = true) {\n  const days = (!!username && remember) ? 7 : -1\n  const date = new Date()\n  date.setDate(date.getDate() + days)\n  document.cookie = `username=${username}; expires=${date.toUTCString()}`\n}\n\nexport function getCookie() {\n  return document.cookie.replace(/(?:(?:^|.*;\\s*)test2\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n}\n\nexport function getUserLocale(preferredLanguage) {\n  if (preferredLanguage) {\n    const pl = preferredLanguage.split(',')[0]\n    if (/^(ru|en|de)/gi.test(pl)) {\n      return pl.split('-')[0].toLowerCase()\n    }\n  } else if (!!window) {\n    if (/^(ru|de|en)/gi.test(window.navigator.language)) {\n      return window.navigator.language.split('-')[0].toLowerCase()\n    }\n    return 'en'\n  }\n  return 'en'\n}\n\nexport function getDefaultPosition(locale = 'en') {\n  const defaultPositions = {\n    en: {\n      latitude: 40.730610,\n      longitude: -73.935242,\n    },\n    de: {\n      latitude: 52.520008,\n      longitude: 13.404954,\n    },\n    ru: {\n      latitude: 55.751244,\n      longitude: 37.618423,\n    },\n  }\n  return defaultPositions[locale]\n}\n\nexport function getDefaultStrings(locale) {\n  const defaultStrings = {\n    en: {\n      maps: {\n        markerPosition: 'You are here.',\n        markerNearPosition: 'You are here... Maybe...',\n      },\n      login: {\n        header: 'Please, log in',\n        email: 'E-mail',\n        password: 'Password',\n        rememberMe: 'Remember Me',\n        signIn: 'Sign In',\n        signOut: 'Sign Out',\n        forgotPass: 'Forgot Password?',\n      },\n      recovery: {\n        header: 'Password Recovery',\n        sendRequest: 'Send Request',\n        help: 'Enter your email and click \"Send Request\" button. You will be sent a letter with detailed instructions.',\n      },\n    },\n    de: {\n      maps: {\n        markerPosition: 'Du bist hier.',\n        markerNearPosition: 'Du bist hier... Vielleicht...',\n      },\n      login: {\n        header: 'Anmeldung',\n        email: 'E-mail',\n        password: 'Passwort',\n        rememberMe: 'Erinnere dich an mich',\n        signIn: 'Einloggen',\n        signOut: 'Ausloggen',\n        forgotPass: 'Forgot Password?',\n      },\n      recovery: {\n        header: 'Passwort-Wiederherstellung',\n        sendRequest: 'Anfrage senden',\n        help: 'Geben Sie Ihre E-Mail-Adresse ein und klicken Sie auf \"Anfrage senden\". Sie erhalten einen Brief mit detaillierten Anweisungen.',\n      },\n    },\n    ru: {\n      maps: {\n        markerPosition: 'Вы здесь.',\n        markerNearPosition: 'Вы здесь... Возможно...',\n      },\n      login: {\n        header: 'Авторизация',\n        email: 'E-mail',\n        password: 'Пароль',\n        rememberMe: 'Запомнить меня',\n        signIn: 'Вход',\n        signOut: 'Выйти',\n        forgotPass: 'Забыли пароль?',\n      },\n      recovery: {\n        header: 'Восстановление пароля',\n        sendRequest: 'Отправить запрос',\n        help: 'Введите адрес электронной почты и нажмите кнопку «Отправить запрос». Вам будет отправлено письмо с подробными инструкциями.',\n      },\n    },\n  }\n\n  if (/^(en|de|ru)$/.test(locale)) return defaultStrings[locale]\n  return defaultStrings.en\n}\n","import {\n  getDefaultPosition, setCookie, getUserPosition, getDefaultStrings,\n} from '../helpers'\n\nconst HOME_USERNAME_CHANGED = 'HOME_USERNAME_CHANGED'\nconst HOME_PASSWORD_CHANGED = 'HOME_PASSWORD_CHANGED'\nconst HOME_SIGN_IN = 'HOME_SIGN_IN'\nconst HOME_SIGN_OUT = 'HOME_SIGN_OUT'\nconst HOME_REMEMBER_ME_CHANGED = 'HOME_REMEMBER_ME_CHANGED'\nconst HOME_PASSWORD_RECOVERY_NEEDED = 'HOME_PASSWORD_RECOVERY_NEEDED'\nconst HOME_PASSWORD_RECOVERY_SENT = 'HOME_PASSWORD_RECOVERY_SENT'\n\nconst APPLICATION_GET_USER_PROPERTIES = 'APPLICATION_GET_USER_PROPERTIES'\n\nconst MAP_USER_POSITION_CHANGE_STARTED = 'MAP_USER_POSITION_CHANGE_STARTED'\nconst MAP_USER_POSITION_CHANGE_FINISHED = 'MAP_USER_POSITION_CHANGE_FINISHED'\nconst MAP_USER_POSITION_CHANGE_ERROR = 'MAP_USER_POSITION_CHANGE_ERROR'\n\nconst MAP_VIEWPORT_CHANGED = 'MAP_VIEWPORT_CHANGED'\n\nexport function trackName(event) {\n  return (dispatch) => {\n    const username = event.target.value\n    dispatch({ type: HOME_USERNAME_CHANGED, payload: username })\n  }\n}\n\nexport function trackPass(event) {\n  return (dispatch) => {\n    const password = event.target.value\n    dispatch({ type: HOME_PASSWORD_CHANGED, payload: password })\n  }\n}\n\nexport function changeRememberMe(event) {\n  return (dispatch) => {\n    dispatch({ type: HOME_REMEMBER_ME_CHANGED, payload: event.target.checked })\n  }\n}\n\nexport function signIn() {\n  return (dispatch) => {\n    dispatch({ type: HOME_SIGN_IN, payload: true })\n  }\n}\n\nexport function signOut() {\n  return (dispatch) => {\n    dispatch({ type: HOME_SIGN_OUT, payload: false })\n  }\n}\n\nexport function passwordRecoveryNeeded() {\n  return (dispatch) => {\n    dispatch({ type: HOME_PASSWORD_RECOVERY_NEEDED, payload: true })\n  }\n}\n\nexport function passwordRecoverySent() {\n  return (dispatch) => {\n    dispatch({ type: HOME_PASSWORD_RECOVERY_SENT, payload: false })\n  }\n}\n\nexport function changeUserPosition() {\n  return (dispatch) => {\n    dispatch({ type: MAP_USER_POSITION_CHANGE_STARTED, payload: true })\n\n    setTimeout(() => {\n      getUserPosition({\n        enableHighAccuracy: false,\n        timeout: 5000,\n        maximumAge: 0,\n      })\n        .then((data) => {\n          const { latitude, longitude } = data.coords\n          dispatch({\n            type: MAP_USER_POSITION_CHANGE_FINISHED,\n            payload: {\n              latitude,\n              longitude,\n            },\n          })\n        })\n        .catch((err) => {\n          dispatch({\n            type: MAP_USER_POSITION_CHANGE_ERROR,\n            payload: err,\n          })\n        })\n    }, 1500)\n  }\n}\n\nexport function viewportChanged(viewport) {\n  return (dispatch) => {\n    const { center: [latitude, longitude], zoom } = viewport\n    dispatch({ type: MAP_VIEWPORT_CHANGED, payload: { position: { latitude, longitude }, zoom } })\n  }\n}\n\nexport function getUserProperties() {\n  return (dispatch) => {\n    dispatch({ type: APPLICATION_GET_USER_PROPERTIES, payload: {} })\n  }\n}\n\nconst initialState = {\n  username: '',\n  password: '',\n  rememberMe: false,\n  recovery: false,\n  locale: 'en',\n  position: getDefaultPosition('en'),\n  currentPosition: getDefaultPosition('en'),\n  storedPosition: {\n    stored: false,\n    latitude: null,\n    longitude: null,\n  },\n  zoom: 9,\n  strings: getDefaultStrings('en'),\n  loggedIn: false,\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case MAP_USER_POSITION_CHANGE_STARTED:\n      return state\n\n    case MAP_USER_POSITION_CHANGE_FINISHED: {\n      const { storedPosition } = state\n      return {\n        ...state,\n        position: (storedPosition.stored) ? {\n          latitude: storedPosition.latitude,\n          longitude: storedPosition.longitude,\n        } : action.payload,\n        currentPosition: { ...action.payload },\n        zoom: 10,\n      }\n    }\n\n    case MAP_USER_POSITION_CHANGE_ERROR: {\n      const { storedPosition } = state\n      const { locale } = state\n      const position = getDefaultPosition(locale)\n      return {\n        ...state,\n        position: (storedPosition.stored) ? {\n          latitude: storedPosition.latitude,\n          longitude: storedPosition.longitude,\n        } : position,\n        currentPosition: { ...position },\n        zoom: 10,\n      }\n    }\n\n    case MAP_VIEWPORT_CHANGED:\n      return { ...state, ...action.payload }\n\n    case HOME_USERNAME_CHANGED: {\n      const username = action.payload\n      return { ...state, username }\n    }\n\n    case HOME_PASSWORD_CHANGED:\n      return { ...state, password: action.payload }\n\n    case HOME_SIGN_IN: {\n      const { username, rememberMe } = state\n      setCookie(username, rememberMe)\n      return { ...state, loggedIn: action.payload }\n    }\n\n    case HOME_SIGN_OUT: {\n      const { username } = state\n      setCookie(username, false)\n      return { ...state, loggedIn: action.payload }\n    }\n\n    case HOME_REMEMBER_ME_CHANGED: {\n      const rememberMe = action.payload\n      // const { username } = state\n      // setCookie(username, rememberMe)\n      return { ...state, rememberMe }\n    }\n\n    case HOME_PASSWORD_RECOVERY_NEEDED:\n      return { ...state, recovery: action.payload }\n\n    case HOME_PASSWORD_RECOVERY_SENT:\n      return { ...state, recovery: action.payload }\n\n    default:\n      return state\n  }\n}\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router'\nimport Home from '../../components/home/Home'\nimport Map from '../../components/map/BackgroundMap'\nimport {\n  trackName, trackPass, getUserProperties, changeUserPosition, viewportChanged,\n  changeRememberMe, passwordRecoveryNeeded, passwordRecoverySent, signIn, signOut,\n} from '../../redux/modules/home'\n\nclass HomeContainer extends Component {\n  componentDidMount() {\n    this.props.changeUserPosition()\n  }\n\n  render() {\n    return (\n      <div id=\"home-container\">\n        <Map {...this.props} />\n        <Home {...this.props} />\n      </div>\n    )\n  }\n}\n\nHomeContainer.propTypes = {\n  changeUserPosition: propTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  locale: state.home.locale,\n  position: state.home.position,\n  currentPosition: state.home.currentPosition,\n  zoom: state.home.zoom,\n  strings: state.home.strings,\n  username: state.home.username,\n  password: state.home.password,\n  rememberMe: state.home.rememberMe,\n  recovery: state.home.recovery,\n  loggedIn: state.home.loggedIn,\n})\n\nconst mapDispatchToProps = {\n  trackName,\n  trackPass,\n  getUserProperties,\n  changeUserPosition,\n  viewportChanged,\n  changeRememberMe,\n  passwordRecoveryNeeded,\n  passwordRecoverySent,\n  signIn,\n  signOut,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(HomeContainer))\n","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Home from './containers/home/HomeContainer'\n\nexport default class Application extends Component {\n  render() {\n    return (\n      <article id=\"main\">\n        <Switch>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/:latitude/:longitude\" component={Home} />\n        </Switch>\n      </article>\n    )\n  }\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\n//import { createLogger } from 'redux-logger'\nimport home from './modules/home'\n\n//const loggerMiddleware = createLogger()\n\nconst createStoreWithMiddleware = applyMiddleware(\n  thunk,\n  // loggerMiddleware,\n)(createStore)\n\nexport const reducer = combineReducers({\n  home,\n})\n\nexport default initialState => createStoreWithMiddleware(reducer, initialState)\n","import path from 'path'\nimport express from 'express'\n\nimport cookieParser from 'cookie-parser'\nimport compression from 'compression'\nimport helmet from 'helmet'\n\nimport React from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { StaticRouter } from 'react-router-dom'\nimport Application from '../shared/Application'\nimport { reducer } from '../shared/redux/index'\nimport { getUserLocale, getDefaultPosition, getDefaultStrings } from '../shared/redux/modules/helpers'\n\nconst app = express()\n\napp.use(helmet())\n\nconst port = 3000\n\napp.use(express.json())\napp.use(express.urlencoded({ extended: false }))\napp.use(cookieParser())\napp.use(compression())\n\n// Serve static files\napp.use(express.static(path.join('./'/* __dirname */, 'public')))\n\nfunction renderFullPage(html, preloadedState) {\n  const { home: { locale } } = preloadedState\n  return `\n    <!doctype html>\n    <html lang=\"${locale}\">\n      <head>\n        <title>TheBoats.com test job</title>\n        <link href=\"https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700,700i&subset=cyrillic\" rel=\"stylesheet\">\n        <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css\">\n        <link href=\"/css/style.css\" rel=\"stylesheet\">\n      </head>\n      <body>\n        <div id=\"app\">${html}</div>\n        <script>\n          window.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(\n    /</g,\n    '\\\\u003c',\n  )}\n        </script>\n        <script src=\"/js/bundle.js\"></script>\n      </body>\n    </html>\n    `\n}\n\nprocess.env.BROWSER = false\n\nfunction handleRender(req, res) {\n  // Preferred language\n  const acceptedLanguages = req.get('Accept-Language')\n  const locale = (acceptedLanguages) ? getUserLocale(acceptedLanguages.split(',')[0]) : 'en'\n  const position = getDefaultPosition(locale)\n  const strings = getDefaultStrings(locale)\n\n  const { latitude, longitude } = req.params\n  const storedPosition = {\n    latitude: parseFloat(latitude),\n    longitude: parseFloat(longitude),\n    stored: (!!latitude && !!longitude),\n  }\n\n  const { cookies } = req\n  const { username = '' } = cookies\n  const rememberMe = (!!username)\n\n  const store = createStore(reducer)\n  const context = {}\n\n  // Render the component to a string\n  const html = ReactDOMServer.renderToString(\n    <Provider store={store}>\n      <StaticRouter location={req.url} context={context}>\n        <Application />\n      </StaticRouter>\n    </Provider>,\n  )\n\n  // Grab the initial state from our Redux store\n  const state = store.getState()\n  const { home } = state\n  const preloadedState = {\n    ...state,\n    home: {\n      ...home, locale, position, storedPosition, strings, username, rememberMe,\n    },\n  }\n\n  // Send the rendered page back to the client\n  res.send(renderFullPage(html, preloadedState))\n}\n\napp.use('/:latitude/:longitude', handleRender)\napp.use('/', handleRender)\n\napp.listen(port)\n"],"sourceRoot":""}