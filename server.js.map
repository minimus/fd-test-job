{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///external \"react-localize-redux\"","webpack:///external \"redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"express\"","webpack:///external \"react-leaflet-universal\"","webpack:///external \"react-redux\"","webpack:///external \"react-dom/server\"","webpack:///external \"path\"","webpack:///external \"cookie-parser\"","webpack:///external \"compression\"","webpack:///external \"helmet\"","webpack:///external \"react-router\"","webpack:///external \"redux-thunk\"","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./src/shared/components/home/LabeledInput.js","webpack:///./src/shared/components/home/HomeLogin.js","webpack:///./src/shared/components/home/HomeRecovery.js","webpack:///./src/shared/components/home/Home.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./src/shared/components/map/BackgroundMap.js","webpack:///./src/shared/redux/modules/helpers.js","webpack:///./src/shared/redux/modules/home/home.js","webpack:///./src/shared/containers/home/HomeContainer.js","webpack:///./src/shared/Application.js","webpack:///./src/shared/redux/index.js","webpack:///./src/server/server.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","_defineProperty","obj","configurable","writable","_objectSpread","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_typeof2","iterator","constructor","_typeof","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_inherits","subClass","superClass","LabeledInput","_ref","id","handler","_ref$pass","pass","type","external_react_default","a","createElement","className","__source","fileName","_jsxFileName","lineNumber","__self","this","external_react_localize_redux_","onChange","propTypes","string","isRequired","func","bool","defaultProps","withLocalize","HomeLogin","Component","_this$props","username","password","loggedIn","rememberMe","trackName","trackPass","changeRememberMe","passwordRecoveryNeeded","signIn","signOut","HomeLogin_jsxFileName","home_LabeledInput","htmlFor","checked","onClick","HomeRecovery","passwordRecoverySent","HomeRecovery_jsxFileName","Home","dialogContent","_this","recovery","home_HomeRecovery","assign","Home_jsxFileName","home_HomeLogin","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","Map","handleViewportChanged","vp","history","viewportChanged","currentPosition","_vp$center","center","latitude","longitude","_this$props2","_this$props2$position","position","_this$props2$currentP","markLatitude","markLongitude","zoom","BackgroundMap_jsxFileName","external_react_leaflet_universal_","maxZoom","attributionControl","doubleClickZoom","scrollWheelZoom","zoomControl","dragging","animate","easeLinearity","style","width","height","onViewportChanged","url","attribution","objectOf","setCookie","remember","days","date","Date","setDate","getDate","document","cookie","toUTCString","getDefaultPosition","en","de","ru","HOME_USERNAME_CHANGED","HOME_PASSWORD_CHANGED","HOME_SIGN_IN","HOME_SIGN_OUT","HOME_REMEMBER_ME_CHANGED","HOME_PASSWORD_RECOVERY_NEEDED","HOME_PASSWORD_RECOVERY_SENT","APPLICATION_GET_USER_PROPERTIES","MAP_USER_POSITION_CHANGE_STARTED","MAP_USER_POSITION_CHANGE_FINISHED","MAP_USER_POSITION_CHANGE_ERROR","MAP_VIEWPORT_CHANGED","initialState","locale","storedPosition","stored","HomeContainer","changeUserPosition","HomeContainer_jsxFileName","BackgroundMap","Home_Home","mapDispatchToProps","event","dispatch","payload","getUserProperties","setTimeout","options","window","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","getUserPosition","enableHighAccuracy","timeout","maximumAge","then","data","_data$coords","coords","viewport","_viewport$center","connect","state","home","withRouter","Application","Application_jsxFileName","external_react_router_dom_","path","component","reducer","applyMiddleware","thunk","createStore","combineReducers","action","app","express","use","helmet","handleRender","req","res","acceptedLanguages","preferredLanguage","pl","split","test","toLowerCase","language","getUserLocale","strings","defaultStrings","maps","markerPosition","markerNearPosition","login","header","email","forgotPass","sendRequest","help","getDefaultStrings","_req$params","params","parseFloat","_cookies$username","cookies","localesInit","languages","code","translation","defaultLanguage","renderToStaticMarkup","ReactDOMServer","store","html","renderToString","external_react_redux_","server_jsxFileName","initialize","location","context","Application_Application","getState","preloadedState","send","JSON","stringify","replace","renderFullPage","json","urlencoded","extended","cookieParser","compression","join","process","env","BROWSER","listen"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"react-localize-redux\");","module.exports = require(\"redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"express\");","module.exports = require(\"react-leaflet-universal\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"path\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"compression\");","module.exports = require(\"helmet\");","module.exports = require(\"react-router\");","module.exports = require(\"redux-thunk\");","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react'\nimport propTypes from 'prop-types'\nimport { Translate, withLocalize } from 'react-localize-redux'\n\nfunction LabeledInput({\n  id, value, handler, pass = false,\n}) {\n  const type = (pass) ? 'password' : 'text'\n  return (\n    <div className=\"labeled-input\">\n      {(type === 'password') ? <Translate id=\"login.password\" /> : <Translate id=\"login.email\" />}\n      <input id={id} type={type} value={value} onChange={handler} />\n    </div>\n  )\n}\n\nLabeledInput.propTypes = {\n  id: propTypes.string.isRequired,\n  value: propTypes.string.isRequired,\n  handler: propTypes.func.isRequired,\n  pass: propTypes.bool,\n}\n\nLabeledInput.defaultProps = {\n  pass: false,\n}\n\nexport default withLocalize(LabeledInput)\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport { Translate, withLocalize } from 'react-localize-redux'\nimport LabeledInput from './LabeledInput'\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass HomeLogin extends Component {\n  render() {\n    const {\n      username, password, loggedIn, rememberMe,\n      trackName, trackPass, changeRememberMe, passwordRecoveryNeeded, signIn, signOut,\n    } = this.props\n    return (\n      <div id=\"home-component-login\">\n        <h1><Translate id=\"login.header\" /></h1>\n        <LabeledInput handler={trackName} id=\"username\" value={username} />\n        <LabeledInput handler={trackPass} id=\"password\" value={password} pass />\n        <div>\n          <label id=\"remember-me-label\" htmlFor=\"remember-me\">\n            <input id=\"remember-me\" type=\"checkbox\" checked={rememberMe} onClick={changeRememberMe} />\n            <Translate id=\"login.rememberMe\" />\n          </label>\n        </div>\n        <div className=\"login-buttons\">\n          <button\n            id=\"sign-in\"\n            className=\"sign-in-button\"\n            type=\"button\"\n            onClick={(loggedIn) ? signOut : signIn}\n          >\n            {(loggedIn) ? <Translate id=\"login.signOut\" /> : <Translate id=\"login.signIn\" />}\n          </button>\n          <button\n            id=\"recovery\"\n            className=\"link-button\"\n            type=\"button\"\n            onClick={passwordRecoveryNeeded}\n          >\n            <Translate id=\"login.forgotPass\" />\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nHomeLogin.propTypes = {\n  username: propTypes.string.isRequired,\n  password: propTypes.string.isRequired,\n  rememberMe: propTypes.bool.isRequired,\n  loggedIn: propTypes.bool.isRequired,\n  trackName: propTypes.func.isRequired,\n  trackPass: propTypes.func.isRequired,\n  changeRememberMe: propTypes.func.isRequired,\n  passwordRecoveryNeeded: propTypes.func.isRequired,\n  signIn: propTypes.func.isRequired,\n  signOut: propTypes.func.isRequired,\n}\n\nexport default withLocalize(HomeLogin)\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport { Translate, withLocalize } from 'react-localize-redux'\nimport LabeledInput from './LabeledInput'\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass HomeRecovery extends Component {\n  render() {\n    const { username, trackName, passwordRecoverySent } = this.props\n    return (\n      <div id=\"home-component-recovery\">\n        <h1><Translate id=\"recovery.header\" /></h1>\n        <LabeledInput handler={trackName} id=\"username\" value={username} />\n        <p><Translate id=\"recovery.help\" /></p>\n        <div className=\"login-buttons\">\n          <button\n            id=\"send-request\"\n            className=\"sign-in-button\"\n            type=\"button\"\n            onClick={passwordRecoverySent}\n          >\n            <Translate id=\"recovery.sendRequest\" />\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nHomeRecovery.propTypes = {\n  username: propTypes.string.isRequired,\n  trackName: propTypes.func.isRequired,\n  passwordRecoverySent: propTypes.func.isRequired,\n}\n\nexport default withLocalize(HomeRecovery)\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport Login from './HomeLogin'\nimport Recovery from './HomeRecovery'\n\nexport default class Home extends Component {\n  dialogContent = () => {\n    const { recovery } = this.props\n    if (recovery) return <Recovery {...this.props} />\n    return <Login {...this.props} />\n  }\n\n  render() {\n    return (\n      <section id=\"home-component\">\n        {this.dialogContent()}\n      </section>\n    )\n  }\n}\n\nHome.propTypes = {\n  recovery: propTypes.bool.isRequired,\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport { Translate, withLocalize } from 'react-localize-redux'\nimport {\n  Map as LeafletMap, TileLayer, Marker, Popup,\n} from 'react-leaflet-universal'\n\nclass Map extends Component {\n  handleViewportChanged = (vp) => {\n    const {\n      history, viewportChanged, currentPosition,\n    } = this.props\n    const { center: [latitude, longitude] } = vp\n    if ((currentPosition.latitude && currentPosition.latitude !== latitude)\n      || (currentPosition.longitude && currentPosition.longitude !== longitude)) {\n      history.push(`/${latitude}/${longitude}`)\n    }\n    viewportChanged(vp)\n  }\n\n  render() {\n    const {\n      position: { latitude, longitude },\n      currentPosition: {\n        latitude: markLatitude,\n        longitude: markLongitude,\n      },\n      zoom,\n    } = this.props\n\n    return (\n      <div id=\"maps\">\n        <LeafletMap\n          center={[latitude, longitude]}\n          zoom={zoom}\n          maxZoom={10}\n          attributionControl\n          doubleClickZoom\n          scrollWheelZoom\n          zoomControl={false}\n          dragging\n          animate\n          easeLinearity={0.35}\n          style={{ width: '100%', height: '100%' }}\n          onViewportChanged={this.handleViewportChanged}\n        >\n          <TileLayer\n            url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          />\n          <Marker position={[markLatitude, markLongitude]}>\n            <Popup><Translate id=\"maps.markerPosition\" /></Popup>\n          </Marker>\n        </LeafletMap>\n      </div>\n    )\n  }\n}\n\nMap.propTypes = {\n  position: propTypes.objectOf.isRequired,\n  currentPosition: propTypes.objectOf.isRequired,\n  zoom: propTypes.objectOf.isRequired,\n  viewportChanged: propTypes.func.isRequired,\n  history: propTypes.objectOf.isRequired,\n}\n\nexport default withLocalize(Map)\n","export function getUserPosition(options) {\n  if (window) {\n    return new Promise((resolve, reject) => (\n      window.navigator.geolocation.getCurrentPosition(resolve, reject, options)\n    ))\n  }\n  return undefined\n}\n\nexport function setCookie(username, remember = true) {\n  const days = (!!username && remember) ? 7 : -1\n  const date = new Date()\n  date.setDate(date.getDate() + days)\n  document.cookie = `username=${username}; expires=${date.toUTCString()}`\n}\n\nexport function getCookie() {\n  return document.cookie.replace(/(?:(?:^|.*;\\s*)test2\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n}\n\nexport function getUserLocale(preferredLanguage) {\n  if (preferredLanguage) {\n    const pl = preferredLanguage.split(',')[0]\n    if (/^(ru|en|de)/gi.test(pl)) {\n      return pl.split('-')[0].toLowerCase()\n    }\n  } else if (!!window) {\n    if (/^(ru|de|en)/gi.test(window.navigator.language)) {\n      return window.navigator.language.split('-')[0].toLowerCase()\n    }\n    return 'en'\n  }\n  return 'en'\n}\n\nexport function getDefaultPosition(locale = 'en') {\n  const defaultPositions = {\n    en: {\n      latitude: 40.730610,\n      longitude: -73.935242,\n    },\n    de: {\n      latitude: 52.520008,\n      longitude: 13.404954,\n    },\n    ru: {\n      latitude: 55.751244,\n      longitude: 37.618423,\n    },\n  }\n  return defaultPositions[locale]\n}\n\nexport function getDefaultStrings(locale) {\n  const defaultStrings = {\n    en: {\n      maps: {\n        markerPosition: 'You are here.',\n        markerNearPosition: 'You are here... Maybe...',\n      },\n      login: {\n        header: 'Please, log in',\n        email: 'E-mail',\n        password: 'Password',\n        rememberMe: 'Remember Me',\n        signIn: 'Sign In',\n        signOut: 'Sign Out',\n        forgotPass: 'Forgot Password?',\n      },\n      recovery: {\n        header: 'Password Recovery',\n        sendRequest: 'Send Request',\n        help: 'Enter your email and click \"Send Request\" button. You will be sent a letter with detailed instructions.',\n      },\n    },\n    de: {\n      maps: {\n        markerPosition: 'Du bist hier.',\n        markerNearPosition: 'Du bist hier... Vielleicht...',\n      },\n      login: {\n        header: 'Anmeldung',\n        email: 'E-mail',\n        password: 'Passwort',\n        rememberMe: 'Erinnere dich an mich',\n        signIn: 'Einloggen',\n        signOut: 'Ausloggen',\n        forgotPass: 'Passwort vergessen?',\n      },\n      recovery: {\n        header: 'Passwort-Wiederherstellung',\n        sendRequest: 'Anfrage senden',\n        help: 'Geben Sie Ihre E-Mail-Adresse ein und klicken Sie auf \"Anfrage senden\". Sie erhalten einen Brief mit detaillierten Anweisungen.',\n      },\n    },\n    ru: {\n      maps: {\n        markerPosition: 'Вы здесь.',\n        markerNearPosition: 'Вы здесь... Возможно...',\n      },\n      login: {\n        header: 'Авторизация',\n        email: 'E-mail',\n        password: 'Пароль',\n        rememberMe: 'Запомнить меня',\n        signIn: 'Вход',\n        signOut: 'Выйти',\n        forgotPass: 'Забыли пароль?',\n      },\n      recovery: {\n        header: 'Восстановление пароля',\n        sendRequest: 'Отправить запрос',\n        help: 'Введите адрес электронной почты и нажмите кнопку «Отправить запрос». Вам будет отправлено письмо с подробными инструкциями.',\n      },\n    },\n  }\n\n  if (/^(en|de|ru)$/.test(locale)) return defaultStrings[locale]\n  return defaultStrings.en\n}\n","import {\n  getDefaultPosition, setCookie, getUserPosition, getDefaultStrings,\n} from '../helpers'\n\nconst HOME_USERNAME_CHANGED = 'HOME_USERNAME_CHANGED'\nconst HOME_PASSWORD_CHANGED = 'HOME_PASSWORD_CHANGED'\nconst HOME_SIGN_IN = 'HOME_SIGN_IN'\nconst HOME_SIGN_OUT = 'HOME_SIGN_OUT'\nconst HOME_REMEMBER_ME_CHANGED = 'HOME_REMEMBER_ME_CHANGED'\nconst HOME_PASSWORD_RECOVERY_NEEDED = 'HOME_PASSWORD_RECOVERY_NEEDED'\nconst HOME_PASSWORD_RECOVERY_SENT = 'HOME_PASSWORD_RECOVERY_SENT'\n\nconst APPLICATION_GET_USER_PROPERTIES = 'APPLICATION_GET_USER_PROPERTIES'\n\nconst MAP_USER_POSITION_CHANGE_STARTED = 'MAP_USER_POSITION_CHANGE_STARTED'\nconst MAP_USER_POSITION_CHANGE_FINISHED = 'MAP_USER_POSITION_CHANGE_FINISHED'\nconst MAP_USER_POSITION_CHANGE_ERROR = 'MAP_USER_POSITION_CHANGE_ERROR'\n\nconst MAP_VIEWPORT_CHANGED = 'MAP_VIEWPORT_CHANGED'\n\nexport function trackName(event) {\n  return (dispatch) => {\n    const username = event.target.value\n    dispatch({ type: HOME_USERNAME_CHANGED, payload: username })\n  }\n}\n\nexport function trackPass(event) {\n  return (dispatch) => {\n    const password = event.target.value\n    dispatch({ type: HOME_PASSWORD_CHANGED, payload: password })\n  }\n}\n\nexport function changeRememberMe(event) {\n  return (dispatch) => {\n    dispatch({ type: HOME_REMEMBER_ME_CHANGED, payload: event.target.checked })\n  }\n}\n\nexport function signIn() {\n  return (dispatch) => {\n    dispatch({ type: HOME_SIGN_IN, payload: true })\n  }\n}\n\nexport function signOut() {\n  return (dispatch) => {\n    dispatch({ type: HOME_SIGN_OUT, payload: false })\n  }\n}\n\nexport function passwordRecoveryNeeded() {\n  return (dispatch) => {\n    dispatch({ type: HOME_PASSWORD_RECOVERY_NEEDED, payload: true })\n  }\n}\n\nexport function passwordRecoverySent() {\n  return (dispatch) => {\n    dispatch({ type: HOME_PASSWORD_RECOVERY_SENT, payload: false })\n  }\n}\n\nexport function changeUserPosition() {\n  return (dispatch) => {\n    dispatch({ type: MAP_USER_POSITION_CHANGE_STARTED, payload: true })\n\n    setTimeout(() => {\n      getUserPosition({\n        enableHighAccuracy: false,\n        timeout: 5000,\n        maximumAge: 0,\n      })\n        .then((data) => {\n          const { latitude, longitude } = data.coords\n          dispatch({\n            type: MAP_USER_POSITION_CHANGE_FINISHED,\n            payload: {\n              latitude,\n              longitude,\n            },\n          })\n        })\n        .catch((err) => {\n          dispatch({\n            type: MAP_USER_POSITION_CHANGE_ERROR,\n            payload: err,\n          })\n        })\n    }, 1500)\n  }\n}\n\nexport function viewportChanged(viewport) {\n  return (dispatch) => {\n    const { center: [latitude, longitude], zoom } = viewport\n    dispatch({ type: MAP_VIEWPORT_CHANGED, payload: { position: { latitude, longitude }, zoom } })\n  }\n}\n\nexport function getUserProperties() {\n  return (dispatch) => {\n    dispatch({ type: APPLICATION_GET_USER_PROPERTIES, payload: {} })\n  }\n}\n\nconst initialState = {\n  username: '',\n  password: '',\n  rememberMe: false,\n  recovery: false,\n  locale: 'en',\n  position: getDefaultPosition('en'),\n  currentPosition: getDefaultPosition('en'),\n  storedPosition: {\n    stored: false,\n    latitude: null,\n    longitude: null,\n  },\n  zoom: 9,\n  loggedIn: false,\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case MAP_USER_POSITION_CHANGE_STARTED:\n      return state\n\n    case MAP_USER_POSITION_CHANGE_FINISHED: {\n      const { storedPosition } = state\n      return {\n        ...state,\n        position: (storedPosition.stored) ? {\n          latitude: storedPosition.latitude,\n          longitude: storedPosition.longitude,\n        } : action.payload,\n        currentPosition: { ...action.payload },\n        zoom: 10,\n      }\n    }\n\n    case MAP_USER_POSITION_CHANGE_ERROR: {\n      const { storedPosition } = state\n      const { locale } = state\n      const position = getDefaultPosition(locale)\n      return {\n        ...state,\n        position: (storedPosition.stored) ? {\n          latitude: storedPosition.latitude,\n          longitude: storedPosition.longitude,\n        } : position,\n        currentPosition: { ...position },\n        zoom: 10,\n      }\n    }\n\n    case MAP_VIEWPORT_CHANGED:\n      return { ...state, ...action.payload }\n\n    case HOME_USERNAME_CHANGED: {\n      const username = action.payload\n      return { ...state, username }\n    }\n\n    case HOME_PASSWORD_CHANGED:\n      return { ...state, password: action.payload }\n\n    case HOME_SIGN_IN: {\n      const { username, rememberMe } = state\n      setCookie(username, rememberMe)\n      return { ...state, loggedIn: action.payload }\n    }\n\n    case HOME_SIGN_OUT: {\n      const { username } = state\n      setCookie(username, false)\n      return { ...state, loggedIn: action.payload }\n    }\n\n    case HOME_REMEMBER_ME_CHANGED: {\n      const rememberMe = action.payload\n      // const { username } = state\n      // setCookie(username, rememberMe)\n      return { ...state, rememberMe }\n    }\n\n    case HOME_PASSWORD_RECOVERY_NEEDED:\n      return { ...state, recovery: action.payload }\n\n    case HOME_PASSWORD_RECOVERY_SENT:\n      return { ...state, recovery: action.payload }\n\n    default:\n      return state\n  }\n}\n","import React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router'\nimport Home from '../../components/home/Home'\nimport Map from '../../components/map/BackgroundMap'\nimport {\n  trackName, trackPass, getUserProperties, changeUserPosition, viewportChanged,\n  changeRememberMe, passwordRecoveryNeeded, passwordRecoverySent, signIn, signOut,\n} from '../../redux/modules/home'\n\nclass HomeContainer extends Component {\n  componentDidMount() {\n    // eslint-disable-next-line react/destructuring-assignment\n    this.props.changeUserPosition()\n  }\n\n  render() {\n    return (\n      <div id=\"home-container\">\n        <Map {...this.props} />\n        <Home {...this.props} />\n      </div>\n    )\n  }\n}\n\nHomeContainer.propTypes = {\n  changeUserPosition: propTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  locale: state.home.locale,\n  position: state.home.position,\n  currentPosition: state.home.currentPosition,\n  zoom: state.home.zoom,\n  username: state.home.username,\n  password: state.home.password,\n  rememberMe: state.home.rememberMe,\n  recovery: state.home.recovery,\n  loggedIn: state.home.loggedIn,\n})\n\nconst mapDispatchToProps = {\n  trackName,\n  trackPass,\n  getUserProperties,\n  changeUserPosition,\n  viewportChanged,\n  changeRememberMe,\n  passwordRecoveryNeeded,\n  passwordRecoverySent,\n  signIn,\n  signOut,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(HomeContainer))\n","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Home from './containers/home/HomeContainer'\n\nexport default class Application extends Component {\n  render() {\n    return (\n      <article id=\"main\">\n        <Switch>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/:latitude/:longitude\" component={Home} />\n        </Switch>\n      </article>\n    )\n  }\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\n//import { createLogger } from 'redux-logger'\nimport home from './modules/home'\n\n//const loggerMiddleware = createLogger()\n\nconst createStoreWithMiddleware = applyMiddleware(\n  thunk,\n  // loggerMiddleware,\n)(createStore)\n\nexport const reducer = combineReducers({\n  home,\n})\n\nexport default initialState => createStoreWithMiddleware(reducer, initialState)\n","import path from 'path'\nimport express from 'express'\n\nimport cookieParser from 'cookie-parser'\nimport compression from 'compression'\nimport helmet from 'helmet'\n\nimport React from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { combineReducers, createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { LocalizeProvider, localizeReducer } from 'react-localize-redux'\nimport { StaticRouter } from 'react-router-dom'\nimport Application from '../shared/Application'\nimport { reducer } from '../shared/redux/index'\nimport { getUserLocale, getDefaultPosition, getDefaultStrings } from '../shared/redux/modules/helpers'\n\nconst app = express()\n\napp.use(helmet())\n\nconst port = 3000\n\napp.use(express.json())\napp.use(express.urlencoded({ extended: false }))\napp.use(cookieParser())\napp.use(compression())\n\n// Serve static files\napp.use(express.static(path.join('./'/* __dirname */, 'public')))\n\nfunction renderFullPage(html, preloadedState) {\n  const { home: { locale } } = preloadedState\n  return `\n    <!doctype html>\n    <html lang=\"${locale}\">\n      <head>\n        <title>TheBoats.com test job</title>\n        <link href=\"https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700,700i&subset=cyrillic\" rel=\"stylesheet\">\n        <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css\">\n        <link href=\"/css/style.css\" rel=\"stylesheet\">\n      </head>\n      <body>\n        <div id=\"app\">${html}</div>\n        <script>\n          window.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(\n    /</g,\n    '\\\\u003c',\n  )}\n        </script>\n        <script src=\"/js/bundle.js\"></script>\n      </body>\n    </html>\n    `\n}\n\nprocess.env.BROWSER = false\n\nfunction handleRender(req, res) {\n  // Preferred language\n  const acceptedLanguages = req.get('Accept-Language')\n  const locale = (acceptedLanguages) ? getUserLocale(acceptedLanguages.split(',')[0]) : 'en'\n  const position = getDefaultPosition(locale)\n  const strings = getDefaultStrings(locale)\n\n  const { latitude, longitude } = req.params\n  const storedPosition = {\n    latitude: parseFloat(latitude),\n    longitude: parseFloat(longitude),\n    stored: (!!latitude && !!longitude),\n  }\n\n  const { cookies } = req\n  const { username = '' } = cookies\n  const rememberMe = (!!username)\n\n  const localesInit = {\n    languages: [\n      { name: 'English', code: 'en' },\n      { name: 'German', code: 'de' },\n      { name: 'Russian', code: 'ru' },\n    ],\n    translation: {\n      maps: {\n        markerPosition: ['You are here.', 'Du bist hier.', 'Вы здесь.'],\n        markerNearPosition: [\n          'You are here... Maybe...',\n          'Du bist hier... Vielleicht...',\n          'Вы здесь... Возможно...',\n        ],\n      },\n      login: {\n        header: ['Please, log in', 'Anmeldung', 'Авторизация'],\n        email: ['E-mail', 'E-mail', 'E-mail'],\n        password: ['Password', 'Passwort', 'Пароль'],\n        rememberMe: ['Remember Me', 'Erinnere dich an mich', 'Запомнить меня'],\n        signIn: ['Sign In', 'Einloggen', 'Вход'],\n        signOut: ['Sign Out', 'Ausloggen', 'Выйти'],\n        forgotPass: ['Forgot Password?', 'Passwort vergessen?', 'Забыли пароль?'],\n      },\n      recovery: {\n        header: ['Password Recovery', 'Passwort-Wiederherstellung', 'Восстановление пароля'],\n        sendRequest: ['Send Request', 'Anfrage senden', 'Отправить запрос'],\n        help: [\n          'Enter your email and click \"Send Request\" button. You will be sent a letter with detailed instructions.',\n          'Geben Sie Ihre E-Mail-Adresse ein und klicken Sie auf \"Anfrage senden\". Sie erhalten einen Brief mit detaillierten Anweisungen.',\n          'Введите адрес электронной почты и нажмите кнопку «Отправить запрос». Вам будет отправлено письмо с подробными инструкциями.',\n        ],\n      },\n    },\n    options: {\n      defaultLanguage: locale,\n      renderToStaticMarkup: ReactDOMServer.renderToStaticMarkup,\n    },\n  }\n\n  const store = createStore(reducer)\n  const context = {}\n\n  // Render the component to a string\n  const html = ReactDOMServer.renderToString(\n    <Provider store={store}>\n      <LocalizeProvider initialize={localesInit} store={store}>\n        <StaticRouter location={req.url} context={context}>\n          <Application />\n        </StaticRouter>\n      </LocalizeProvider>\n    </Provider>,\n  )\n\n  // Grab the initial state from our Redux store\n  const state = store.getState()\n  const { home } = state\n  const preloadedState = {\n    ...state,\n    home: {\n      ...home, locale, position, storedPosition, strings, username, rememberMe,\n    },\n  }\n\n  // Send the rendered page back to the client\n  res.send(renderFullPage(html, preloadedState))\n}\n\napp.use('/:latitude/:longitude', handleRender)\napp.use('/', handleRender)\n\napp.listen(port)\n"],"sourceRoot":""}